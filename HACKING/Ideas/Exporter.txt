Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.26
Creation-Date: Thu, 30 Jul 2009 21:36:25 +0200
Modification-Date: Thu, 30 Jul 2009 21:36:25 +0200

====== Exporter ======
Created Thursday 30 July 2009


Get rid of the "include files" in export dialog -> push attachments /
document root
How about "include document root" ?

push icons for html to data uris

Specify that linker returns either a relative file path or not an url
(so html style links) formats may need to rewite that

Do we need to store list of attachments in the Index as well ?
- being able to list files from index would make exporter easier..

Linker
empty base class, lives in zim.formats
dispatch link() to specialized methods for attachment / document /
page / file / ...
+ hash links that have been seen (icons global / other per page)

StaticLinker lives in exporter
intended for e.g. print to browser
link files and images by absolute file:// uris, do no link pages (or stub link)
icons are linked statically to the data files

FileStoreLinker lives in zim.store.files
assume Files store layout
link attachments and images
where do icons go ?

WWWLinker lives in zim.www
link attached files and images by relative url (path/to/page/+file/basename.ext)
link document root files and images by absolute url
link other files and images by file:// uri (not on webserver)
link icons with absolute url
link pages with relative url
- for cgi-bin mode "absolute" must be below script location, can we
get this from environemnt ?
